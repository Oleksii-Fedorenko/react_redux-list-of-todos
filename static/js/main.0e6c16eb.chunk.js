(this["webpackJsonpreact_redux-list-of-todos"]=this["webpackJsonpreact_redux-list-of-todos"]||[]).push([[0],{27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(10),r=c.n(n),s=c(4),a=c(18),o=c(15),u=c(3),i=c(12),l=c(17),d="TODOS_LOADING",j="USER_LOADING",b="SELECT_ID",O="DELETE_TODO",p="SELECT_TODO",f=function(e){return e.todos},h=function(e){return e.selectedTodos},_=function(e){return e.selectedUserById},m={todos:[],selectedUserById:0,user:null,selectedTodos:[]},x=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)(Object(u.a)({},e),{},{todos:[].concat(Object(o.a)(e.todos),Object(o.a)(t.todos))});case p:return Object(u.a)(Object(u.a)({},e),{},{selectedTodos:t.todos});case O:return Object(u.a)(Object(u.a)({},e),{},{todos:e.todos.filter((function(e){return e.id!==t.id}))});case j:return Object(u.a)(Object(u.a)({},e),{},{user:t.user});case b:return Object(u.a)(Object(u.a)({},e),{},{selectedUserById:t.id});default:return e}}),Object(l.composeWithDevTools)()),v=x,T=c(7),y=c(5),C=c(6),N=c.n(C),E=c(0),L=(c(27),c(28),"https://mate.academy/students-api"),k=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/todos"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(T.a)(N.a.mark((function e(t){var c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L,"/users/").concat(t));case 2:return c=e.sent,e.abrupt("return",c.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=(c(29),c(14)),D=c.n(S),w=c(1),U=function(){var e=Object(s.b)(),t=Object(s.c)(_),c=Object(s.c)(h),n=Object(E.useCallback)((function(t){e({type:"SELECT_ID",id:t})}),[]),r=Object(E.useCallback)((function(t){e({type:"DELETE_TODO",id:t})}),[]);return Object(w.jsxs)("div",{className:"TodoList",children:[Object(w.jsx)("h2",{children:"Todos:"}),Object(w.jsx)("div",{className:"TodoList__list-container",children:Object(w.jsx)("ul",{className:"TodoList__list","data-cy":"listOfTodos",children:c.map((function(e){var c=e.userId,s=e.title,a=e.completed,o=e.id;return Object(w.jsxs)("li",{className:D()("TodoList__item",{"TodoList__item--checked":a},{"TodoList__item--unchecked":!a}),children:[Object(w.jsxs)("label",{children:[Object(w.jsx)("input",{type:"checkbox",checked:a,readOnly:!0}),Object(w.jsx)("p",{children:s})]}),c&&Object(w.jsxs)("div",{children:[Object(w.jsx)("button",{className:D()("TodoList__user-button","button",{"TodoList__user-button--selected":t===c}),type:"button","data-cy":"userButton",value:c,onClick:function(){return n(c)},children:"User #".concat(c)}),Object(w.jsx)("button",{type:"button",className:"TodoList__user-button button",onClick:function(){return r(o)},children:"X"})]})]},o)}))})})]})},I=(c(31),function(){var e=Object(E.useState)(null),t=Object(y.a)(e,2),c=t[0],n=t[1],r=Object(s.b)(),a=Object(s.c)(_);Object(E.useEffect)((function(){var e=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(a);case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a]);var o=Object(E.useCallback)((function(){r({type:"SELECT_ID",id:0})}),[]);return Object(w.jsx)(w.Fragment,{children:c&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("div",{className:"CurrentUser",children:[Object(w.jsx)("h2",{className:"CurrentUser__title",children:Object(w.jsx)("span",{children:"Selected user: ".concat(c.id)})}),Object(w.jsx)("h3",{className:"CurrentUser__name","data-cy":"userName",children:c.name}),Object(w.jsx)("p",{className:"CurrentUser__email",children:c.email}),Object(w.jsx)("p",{className:"CurrentUser__phone",children:c.phone})]}),Object(w.jsx)("button",{type:"button",className:"CurrentUser__button",onClick:function(){return o()},children:"Clear"})]})})}),g=function(){var e=Object(s.c)(_),t=Object(s.c)(f),c=Object(s.b)(),n=Object(E.useState)(""),r=Object(y.a)(n,2),a=r[0],o=r[1],u=Object(E.useState)("All"),i=Object(y.a)(u,2),l=i[0],d=i[1],j=Object(E.useState)(!0),b=Object(y.a)(j,2),O=b[0],p=b[1];Object(E.useEffect)((function(){var e=function(){var e=Object(T.a)(N.a.mark((function e(){var t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,c({type:"TODOS_LOADING",todos:t});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var h=t.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})),m=function(){switch(l){case"All":default:return h;case"Completed":return h.filter((function(e){return e.completed}));case"Active":return h.filter((function(e){return!e.completed}))}}();return O||m.sort((function(e,t){return e.title.localeCompare(t.title)})),Object(E.useEffect)((function(){c({type:"SELECT_TODO",todos:m})}),[m]),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsxs)("div",{className:"App__sidebar",children:[Object(w.jsxs)("form",{className:"App__form",children:[Object(w.jsx)("input",{onChange:function(e){return o(e.target.value)},value:a,type:"text",id:"search-query",className:"App__input",placeholder:"find todo","data-cy":"filterByTitle"}),Object(w.jsxs)("select",{name:"todoFilter",value:l,className:"App__select",onChange:function(e){d(e.target.value)},children:[Object(w.jsx)("option",{children:"All"}),Object(w.jsx)("option",{children:"Completed"}),Object(w.jsx)("option",{children:"Active"})]})]}),Object(w.jsx)("button",{type:"button",className:"App__sortButton",onClick:function(){return p(!O)},children:O?"Sort":"UnSort"}),Object(w.jsx)(U,{})]}),Object(w.jsx)("div",{className:"App__content",children:Object(w.jsx)("div",{className:"App__content-container",children:e?Object(w.jsx)(I,{}):"No user selected"})})]})},B=function(){return Object(w.jsx)(s.a,{store:v,children:Object(w.jsx)(a.a,{children:Object(w.jsx)(g,{})})})};r.a.render(Object(w.jsx)(B,{}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.0e6c16eb.chunk.js.map